# 📅 2025년 11월 10일 (16:30–18:30) 회의록  
**팀명:** 세미콜론  
**서비스명:** 청담(聽談)  
**참석 인원:** 황병일, 곽광렬, 최유림, 김수환, 오명제  

---

## 🧩 회의 주제  
> **Supabase 중심 MVP 구현 검토 및 기술 스택·워크플로우 확정**

---

## ⚙️ 기술 스택

| 구분 | 기술 |
|------|------|
| 프론트엔드 | **Expo (React Native)** |
| 백엔드 | **Java Spring Boot (보조용)** |
| 데이터베이스 / 서버리스 | **Supabase (PostgreSQL 기반)** |
| AI 연동 | **Whisper / HuggingFace / GPT-4o-mini / gTTS** |

---

## 🎨 서비스 톤 & 디자인 참고

- **Theme:** 다크 / 라이트 모드 고려  
- **색감 레퍼런스:** 시중 감정·웰니스 앱들은 초록, 보라, 네이비 계열 사용  
- **참고 앱 레퍼런스**
  1. [야영] – 감성 중심 톤  
  2. 아무것도 아니야  
  3. [Lifeplus](https://wwit.design/2021/02/16/lifeplus/)  
  4. [잔디](https://ko.designus.design/reference/service/11)  
  → **1. 야영 + 4. 잔디 느낌으로 확정**

---

## 🔄 서비스 데이터 플로우

```mermaid
flowchart TD
  A[🎙️ 사용자 음성 입력] --> B[1️⃣ 음성→텍스트 변환 (Whisper API)]
  B --> C[2️⃣ 감정 분석 (KoBERT / HuggingFace)]
  C --> D[3️⃣ 감정 기반 응답 생성 (GPT-4o-mini)]
  D --> E[4️⃣ 텍스트→음성 변환 (gTTS)]
  E --> F[🔊 AI 음성 피드백 출력]
```

---

## 🧩 API 구성 및 실현 가능성

| 단계 | 기능 | 사용 API | 무료 여부 | 비고 |
|------|------|-----------|------------|------|
| ① | 음성→텍스트 | Whisper API / Whisper.cpp | 초기 무료 | 정확도 높음 |
| ② | 감정 분석 | HuggingFace KoBERT Emotion | 완전 무료 | 한국어 감정 인식 |
| ③ | 감정→텍스트 생성 | GPT-4o-mini | $5 크레딧 | 자연스러운 대화 |
| ④ | 텍스트→음성 | gTTS (로컬) | 완전 무료 | 한국어 지원 |

---

## 🧱 Supabase 기능별 검증 결과

| 구분 | 기능 | 가능성 | 설명 |
|------|------|--------|------|
| 1️⃣ 인증/권한 | Supabase Auth | ✅ 완전 가능 | Google, Apple, Email 등 지원 |
| 2️⃣ 데이터 저장 | PostgreSQL + RLS | ✅ 완전 가능 | JSON, 외래키, 보안정책 지원 |
| 3️⃣ 음성/파일 저장 | Supabase Storage | ✅ 완전 가능 | S3 호환, URL 접근 가능 |
| 4️⃣ 외부 AI 호출 | Edge Functions | ✅ 가능 | Node.js 환경에서 fetch 가능 |
| 5️⃣ 트리거 실행 | DB Trigger + Function | ⚙️ 간접 가능 | Edge Function 호출 가능 |
| 6️⃣ 실시간 반응 | Realtime | ✅ 가능 | 감정 변화·상담 알림 구독 |
| 7️⃣ 서버 배포 | Edge Function Hosting | ✅ 가능 | Node.js 기반 서버리스 운영 |
| 8️⃣ 대시보드 | SQL + View | ✅ 가능 | 통계/관리자용 조회 가능 |

---

## 🧩 외부 AI API 연동 (Supabase 환경)

| 단계 | 외부 API | Supabase 연동 가능 여부 | 구현 방식 |
|------|-----------|-------------------------|------------|
| ① 음성→텍스트 | OpenAI Whisper | ✅ 가능 | Edge Function 내 fetch() |
| ② 텍스트→감정 분석 | HuggingFace API | ✅ 가능 | REST 호출 |
| ③ 감정→텍스트 생성 | GPT-4o-mini | ✅ 가능 | openai 라이브러리 |
| ④ 텍스트→음성 | gTTS / Google TTS | ✅ 가능 | Node.js 파일 생성 후 Storage 업로드 |

---

## 💡 주요 논의 포인트

- **음성 데이터 전송 구조**  
  → Supabase Storage에 업로드, Edge Function으로 전달, 처리 후 결과 반환  
  → 파일 확장자(mp3, wav 등)와 전송 포맷 검토 필요  

- **Supabase vs Spring 선택**
  - **Supabase MVP 우선 개발**
  - 이후 **Spring 기반 확장형 백엔드 전환 검토**
  - 초기 목표: **Supabase로 완전한 MVP 동작 구현**

- **단기 목표 일정**
  - **11/12까지:** Spring 환경 테스트 (AI API 연동 가능 여부)
  - **11/15까지:** MVP 제작 완료 (Supabase 중심)
  - **11/18까지:** 발표 자료 완성 (11/19 제출)

---

## 🧭 역할 및 담당 분담

| 구분 | 담당자 | 역할 |
|------|---------|------|
| 프론트/UI | 황병일 | Expo 기반 앱 화면 제작 |
| 발표자료 | 곽광렬 | PPT / 스토리라인 구성 |
| 음성→텍스트 | 최유림 | Whisper API 연동 |
| 텍스트→감정 분석 | 곽광렬 | 감정 점수화 로직 구현 |
| 감정→응답 문장 | 김수환 | GPT 프롬프트 구성 |
| 텍스트→음성(TTS) | 오명제 | gTTS / Google TTS 구현 |

---

## 🧩 MVP 우선 구현 기능 (Supabase 중심)

1. 🎙️ **음성 녹음 / 업로드 (모바일/웹)**  
2. 🧠 **STT 변환 (Whisper)** → 텍스트 획득  
3. 💬 **텍스트 감정 분석 (HuggingFace)**  
4. 🤗 **공감형 피드백 생성 (GPT)**  
5. 🔊 **TTS 변환 후 재생 (gTTS)**  
6. 📊 **감정 기록 및 히스토리 저장**  
7. ⚠️ **위험도 판단 → 상담사 알림**  
8. 👍 **사용자 피드백 수집 (좋아요/도움됨)**

---

## 🏁 결론

- **개발 방향:**  
  Supabase를 중심으로 AI API들을 서버리스 방식으로 연동하여 **MVP 완성형 프로토타입 구축**  

- **기술 목표:**  
  1. Whisper / HuggingFace / GPT / gTTS API 연결 검증  
  2. Supabase Edge Function과 Storage를 통한 전체 워크플로우 동작 확인  

- **일정 목표:**  
  - 11/12까지 기술 테스트  
  - 11/15까지 MVP 완료  
  - 11/18 발표자료 제작  
  - 11/19 제출
