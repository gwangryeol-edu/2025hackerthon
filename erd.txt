<mxfile host="app.diagrams.net" modified="2025-11-10T12:30:00Z" agent="ChatGPT ERD Generator" version="22.0.3">
  <diagram id="cheongdam-erd" name="청담 聽談 ERD">
    <mxGraphModel dx="1800" dy="1200" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="1000">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <!-- USER -->
        <mxCell id="user" value="USER
───────────────
user_id (PK)
email
password
nickname
role
profile_img
created_at" style="shape=rectangle;whiteSpace=wrap;rounded=1;fillColor=#E3F2FD;strokeColor=#1565C0;fontSize=13;fontFamily=Menlo;" vertex="1">
          <mxGeometry x="80" y="120" width="180" height="160" as="geometry"/>
        </mxCell>

        <!-- COUNSELOR_PROFILE -->
        <mxCell id="counselor_profile" value="COUNSELOR_PROFILE
───────────────
counselor_id (PK,FK)
name
specialty
bio
rating
experience_years" style="shape=rectangle;whiteSpace=wrap;rounded=1;fillColor=#E8F5E9;strokeColor=#2E7D32;fontSize=13;fontFamily=Menlo;" vertex="1">
          <mxGeometry x="350" y="80" width="200" height="160" as="geometry"/>
        </mxCell>

        <!-- SESSION -->
        <mxCell id="session" value="SESSION
───────────────
session_id (PK)
user_id (FK)
counselor_id (FK)
start_time
end_time
summary" style="shape=rectangle;whiteSpace=wrap;rounded=1;fillColor=#FFF3E0;strokeColor=#F57C00;fontSize=13;fontFamily=Menlo;" vertex="1">
          <mxGeometry x="650" y="80" width="200" height="160" as="geometry"/>
        </mxCell>

        <!-- RECORDING -->
        <mxCell id="recording" value="RECORDING
───────────────
record_id (PK)
session_id (FK)
user_id (FK)
file_url
transcript
created_at" style="shape=rectangle;whiteSpace=wrap;rounded=1;fillColor=#F3E5F5;strokeColor=#7B1FA2;fontSize=13;fontFamily=Menlo;" vertex="1">
          <mxGeometry x="950" y="60" width="200" height="160" as="geometry"/>
        </mxCell>

        <!-- EMOTION_ANALYSIS -->
        <mxCell id="emotion_analysis" value="EMOTION_ANALYSIS
───────────────
analysis_id (PK)
record_id (FK)
joy
anger
sadness
neutral
overall_emotion
analyzed_at" style="shape=rectangle;whiteSpace=wrap;rounded=1;fillColor=#E8EAF6;strokeColor=#283593;fontSize=13;fontFamily=Menlo;" vertex="1">
          <mxGeometry x="1250" y="60" width="220" height="180" as="geometry"/>
        </mxCell>

        <!-- MESSAGE -->
        <mxCell id="message" value="MESSAGE
───────────────
message_id (PK)
session_id (FK)
sender_id (FK)
content
sent_at" style="shape=rectangle;whiteSpace=wrap;rounded=1;fillColor=#FCE4EC;strokeColor=#C2185B;fontSize=13;fontFamily=Menlo;" vertex="1">
          <mxGeometry x="650" y="280" width="200" height="140" as="geometry"/>
        </mxCell>

        <!-- FAVORITE -->
        <mxCell id="favorite" value="FAVORITE
───────────────
favorite_id (PK)
user_id (FK)
target_id
target_type
created_at" style="shape=rectangle;whiteSpace=wrap;rounded=1;fillColor=#FFFDE7;strokeColor=#F9A825;fontSize=13;fontFamily=Menlo;" vertex="1">
          <mxGeometry x="350" y="300" width="200" height="140" as="geometry"/>
        </mxCell>

        <!-- WITHDRAWAL -->
        <mxCell id="withdrawal" value="WITHDRAWAL
───────────────
withdraw_id (PK)
user_id (FK)
reason
deleted_at" style="shape=rectangle;whiteSpace=wrap;rounded=1;fillColor=#ECEFF1;strokeColor=#455A64;fontSize=13;fontFamily=Menlo;" vertex="1">
          <mxGeometry x="80" y="320" width="200" height="120" as="geometry"/>
        </mxCell>

        <!-- 연결선 (관계) -->
        <mxCell id="edge1" source="user" target="counselor_profile" style="edgeStyle=orthogonalEdgeStyle;rounded=0;strokeColor=#2E7D32;endArrow=block;" edge="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="edge2" source="user" target="session" style="edgeStyle=orthogonalEdgeStyle;rounded=0;strokeColor=#1565C0;endArrow=open;" edge="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="edge3" source="session" target="recording" style="edgeStyle=orthogonalEdgeStyle;rounded=0;strokeColor=#7B1FA2;endArrow=open;" edge="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="edge4" source="recording" target="emotion_analysis" style="edgeStyle=orthogonalEdgeStyle;rounded=0;strokeColor=#283593;endArrow=open;" edge="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="edge5" source="session" target="message" style="edgeStyle=orthogonalEdgeStyle;rounded=0;strokeColor=#C2185B;endArrow=open;" edge="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="edge6" source="user" target="favorite" style="edgeStyle=orthogonalEdgeStyle;rounded=0;strokeColor=#F9A825;endArrow=open;" edge="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="edge7" source="user" target="withdrawal" style="edgeStyle=orthogonalEdgeStyle;rounded=0;strokeColor=#455A64;endArrow=open;" edge="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>